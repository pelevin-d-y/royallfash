{"version":3,"sources":["app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/LA;AAAA","file":"public/javascripts/app.js","sourcesContent":["'use strict';\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _fullpage = require('fullpage.js');\n\nvar _fullpage2 = _interopRequireDefault(_fullpage);\n\nvar _axios = require('axios');\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _jqueryValidation = require('jquery-validation');\n\nvar _jqueryValidation2 = _interopRequireDefault(_jqueryValidation);\n\nrequire('jquery-validation/dist/additional-methods');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// fullpage\n(0, _jquery2.default)(document).ready(function () {\n  (0, _jquery2.default)('#fullpage').fullpage({\n    anchors: ['page-1', 'page-2', 'page-3', 'page-4', 'page-5'],\n    menu: '#menu',\n    navigation: true\n  });\n});\n\ndocument.querySelector('.location__map-map').addEventListener('touchstart', function () {\n  _jquery2.default.fn.fullpage.setAllowScrolling(false);\n});\n\ndocument.querySelector('.location__map-map').addEventListener('touchend', function () {\n  _jquery2.default.fn.fullpage.setAllowScrolling(true);\n}\n\n// popup\n\n);var formButton = (0, _jquery2.default)('.btn-come');\nvar popupButtonClose = (0, _jquery2.default)('.popup-close');\nvar popupButtonLink = (0, _jquery2.default)('.btn-popup__link'\n\n// validate\n);(0, _jquery2.default)(\"#form\").validate({\n  rules: {\n    form__surname: {\n      required: true\n    },\n    form__file: {\n      extension: 'png|jpg',\n      required: true\n    }\n  },\n  messages: {\n    form__surname: {\n      required: 'Введите ваше ФИО'\n    },\n\n    form__file: {\n      required: 'Выберите файл',\n      extension: 'расширение должно быть jpg или png'\n    }\n  },\n  submitHandler: function submitHandler(form) {\n    var data = new FormData(form);\n    var imagefile = form.querySelector('.form__file');\n\n    var config = { headers: { 'Content-Type': 'multipart/form-data' } };\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var pair = _step.value;\n\n        console.log(pair[0], pair[1]);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    _axios2.default.post('http://localhost:3000/register', data, config).then(function (res) {\n      console.log(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n});\n\npopupButtonLink.click(function () {\n  (0, _jquery2.default)('.popup').removeClass('open-popup');\n});\n\npopupButtonClose.click(function () {\n  (0, _jquery2.default)('.popup').removeClass('open-popup');\n});\n\n(0, _jquery2.default)('.popup-overlay').click(function (evt) {\n  if ((0, _jquery2.default)(evt.target).closest('.popup-container').length == 0) {\n    (0, _jquery2.default)('.popup').removeClass('open-popup');\n  }\n});\n\n// navigation\n\n(0, _jquery2.default)(\"#navToggle\").click(function (evt) {\n  evt.stopPropagation();\n  (0, _jquery2.default)(this).toggleClass(\"active\");\n  (0, _jquery2.default)(\".main-nav-overlay\").toggleClass(\"open\");\n  (0, _jquery2.default)(\"body\").toggleClass(\"locked\");\n});\n\nvar links = (0, _jquery2.default)('.main-nav__link');\n\nlinks.each(function (a, link) {\n  link.addEventListener('click', function () {\n    (0, _jquery2.default)(\".main-nav-overlay\").removeClass(\"open\");\n    (0, _jquery2.default)(\"body\").removeClass(\"locked\");\n    (0, _jquery2.default)(\"#navToggle\").removeClass(\"active\");\n  });\n}\n\n// next code\n\n);(0, _jquery2.default)('.container').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('.filter').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('.main-nav-overlay').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('#fullpage').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('.popup').click(function (evt) {\n  evt.stopPropagation();\n}\n\n// file\n);(0, _jquery2.default)(function () {\n  var wrapper = (0, _jquery2.default)(\".file_upload\"),\n      btn = wrapper.find(\".button\"),\n      lbl = wrapper.find(\"mark\");\n  var inp = (0, _jquery2.default)(\"#form__file\");\n\n  // Crutches for the :focus style:\n  inp.focus(function () {\n    wrapper.addClass(\"focus\");\n  }).blur(function () {\n    wrapper.removeClass(\"focus\");\n  });\n\n  var file_api = window.File && window.FileReader && window.FileList && window.Blob ? true : false;\n\n  inp.change(function () {\n    var file_name;\n    if (file_api && inp[0].files[0]) file_name = inp[0].files[0].name;else file_name = inp.val().replace(\"C:\\\\fakepath\\\\\", '');\n\n    if (!file_name.length) return;\n\n    if (lbl.is(\":visible\")) {\n      lbl.text(file_name);\n      btn.text(\"Выбрать\");\n    } else btn.text(file_name);\n  }).change();\n});\n(0, _jquery2.default)(window).resize(function () {\n  (0, _jquery2.default)(\".file_upload input\").triggerHandler(\"change\");\n});\n"]}