{"version":3,"sources":["app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7IA;AAAA","file":"public/javascripts/app.js","sourcesContent":["'use strict';\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _fullpage = require('fullpage.js');\n\nvar _fullpage2 = _interopRequireDefault(_fullpage);\n\nvar _fancybox = require('@fancyapps/fancybox');\n\nvar _fancybox2 = _interopRequireDefault(_fancybox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\njQuery('.location__map-link').fancybox({\n  afterLoad: function afterLoad() {\n    _jquery2.default.fn.fullpage.setAllowScrolling(false);\n  },\n\n  afterClose: function afterClose() {\n    _jquery2.default.fn.fullpage.setAllowScrolling(true);\n  }\n}\n\n// fullpage\n\n);(0, _jquery2.default)(document).ready(function () {\n  (0, _jquery2.default)('#fullpage').fullpage({\n    anchors: ['page-1', 'page-2', 'page-3', 'page-4', 'page-5'],\n    menu: '#menu',\n    navigation: true\n  });\n});\n\ndocument.querySelector('.location__map-map').addEventListener('touchstart', function () {\n  _jquery2.default.fn.fullpage.setAllowScrolling(false);\n});\n\ndocument.querySelector('.location__map-map').addEventListener('touchend', function () {\n  _jquery2.default.fn.fullpage.setAllowScrolling(true);\n}\n\n// popup\n\n);var formButton = (0, _jquery2.default)('.btn-come');\nvar popupButtonClose = (0, _jquery2.default)('.popup-close');\nvar popupButtonLink = (0, _jquery2.default)('.btn-popup__link');\n\nformButton.click(function (evt) {\n  evt.preventDefault();\n  (0, _jquery2.default)('.popup').addClass('open-popup');\n});\n\npopupButtonLink.click(function () {\n  (0, _jquery2.default)('.popup').removeClass('open-popup');\n});\n\npopupButtonClose.click(function () {\n  (0, _jquery2.default)('.popup').removeClass('open-popup');\n});\n\n(0, _jquery2.default)('.popup-overlay').click(function (evt) {\n  if ((0, _jquery2.default)(evt.target).closest('.popup-container').length == 0) {\n    (0, _jquery2.default)('.popup').removeClass('open-popup');\n  }\n});\n\n// navigation\n\n(0, _jquery2.default)(\"#navToggle\").click(function (evt) {\n  evt.stopPropagation();\n  (0, _jquery2.default)(this).toggleClass(\"active\");\n  (0, _jquery2.default)(\".main-nav-overlay\").toggleClass(\"open\");\n  (0, _jquery2.default)(\"body\").toggleClass(\"locked\");\n});\n\nvar links = (0, _jquery2.default)('.main-nav__link');\n\nlinks.each(function (a, link) {\n  link.addEventListener('click', function () {\n    (0, _jquery2.default)(\".main-nav-overlay\").removeClass(\"open\");\n    (0, _jquery2.default)(\"body\").removeClass(\"locked\");\n    (0, _jquery2.default)(\"#navToggle\").removeClass(\"active\");\n  });\n}\n\n// next code\n\n);(0, _jquery2.default)('.container').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('.filter').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('.main-nav-overlay').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('#fullpage').click(function (evt) {\n  evt.stopPropagation();\n});\n\n(0, _jquery2.default)('.popup').click(function (evt) {\n  evt.stopPropagation();\n}\n\n// file\n);(0, _jquery2.default)(function () {\n  var wrapper = (0, _jquery2.default)(\".file_upload\"),\n      inp = wrapper.find(\"input\"),\n      btn = wrapper.find(\".button\"),\n      lbl = wrapper.find(\"mark\");\n\n  // Crutches for the :focus style:\n  inp.focus(function () {\n    wrapper.addClass(\"focus\");\n  }).blur(function () {\n    wrapper.removeClass(\"focus\");\n  });\n\n  var file_api = window.File && window.FileReader && window.FileList && window.Blob ? true : false;\n\n  inp.change(function () {\n    var file_name;\n    if (file_api && inp[0].files[0]) file_name = inp[0].files[0].name;else file_name = inp.val().replace(\"C:\\\\fakepath\\\\\", '');\n\n    if (!file_name.length) return;\n\n    if (lbl.is(\":visible\")) {\n      lbl.text(file_name);\n      btn.text(\"Выбрать\");\n    } else btn.text(file_name);\n  }).change();\n});\n(0, _jquery2.default)(window).resize(function () {\n  (0, _jquery2.default)(\".file_upload input\").triggerHandler(\"change\");\n});\n"]}